### Авторы
- Бахвалов Павел
- Куклина Мария
- Хорошев Артем

# Общие сведения о системе

Данный проект представляет собой компьютерную игру в жанре RogueLike.

Настоящий документ дизайна программного обеспечения представляет конструкции, использованные или предназначенные для использования при реализации проекта. Описанные конструкции соответствуют требованиям, указанным в разделе «Требования к программному обеспечению», подготовленном для проекта.

## Назначение

Цель данного документа - предоставить подробное описание архитекруты игры в жанре RogueLike, созданной в рамках домашнего задания.

Документ предназначен для команды разработчиков, чтобы они последние могли, руководствуясь сведениями об архитектуре, реализовывать данный проект.

## Границы системы

Данный документ дает подробное описание архитектуры программного обеспечения. Он определяет структуру и конструкцию некоторых модулей, обсуждаемых в cпецификации требований программного обеспечения. Он также отображает некоторые варианты использования, которые были отображены в диаграммах последовательностей и диаграмме прецедентов. Диаграммы классов показывают, как команда программистов может реализовать конкретный модуль.

# Требования к программному обеспечению

Данный раздел представляет и дает краткий обзор дизайна. Архитектура системы - это способ дать общее представление о системе и поместить ее в контекст с внешними системами. Это позволяет читателю и пользователю документа самостоятельно ориентироваться в дизайне и видеть сводку, прежде чем переходить к деталям конструкции.

## Предположения

Пользователь системы владеет базовыми операциями взаимодействия с компьютером. Пользователь также понимает стандартные термины, используемые для работы.

## Ограничения

Данная система построена с использованием Java, поэтому накладывает требования наличия JVM на компьютерах, на которых она будет исполняться. Помимо этого требуется наличие клавиатуры и устройства вывода, способного отобразить консоль размер 200х100.

## Системная среда
Настоящая система предназначен для работы на современных универсальных операционных системах. Система доступна через любой персональный компьютер, на который может быть установлена JVM и библиотеки для отображения представления игры на экран. 

## Методология проектирования

Система разработана с гибкостью для дальнейшего развития и/или модификации. Система разделена на управляемые процессы, которые сгруппированы в подмодули и модули которые в свою очередь построены с использованием абстракции.

## Функциональные требования
- игра предоставляет возможность управлять перемещением персонажа игрока с клавиатуры
- автоматическая генерация карты, а также возможность указать файл с существующей картой
- наличие характеристик у персонажа
-- здоровье
-- сила атаки
-- броня
- наличие уровневой системы улучшений характеристик персонажа
- наличие инвертаря у персонажа
- наличие разных видов NPC
- боевая система - движущиеся объекты, пытающиеся занять одну клетку карты, атакуют друг друга

# Роли и случаи использования
## Actors
### Пользователь

Это обычный пользователь, который будет непосредственно использовать систему. 

## Варианты использования
### Варианты использования для Пользователя
- начать игру
- выйти из игры

## Диаграмма прецедентов
![](https://i.imgur.com/poaJjnA.png)

# Архитектура системы

Архитектура системы - это способ дать общее представление о системе и поместить ее в контекст с внешними системами. Это позволяет читателю и пользователю документа самостоятельно ориентироваться в системе и видеть сводку, прежде чем переходить к деталям конструкции.

## Диаграмма компонентов
![](https://i.imgur.com/jGhS5h8.png)

# Логическая структура
- Drawable - интерфейс для отрисовки объектов. Метод `draw(): char` возвращает unicode символ, визуализирующий объект. 

- Character - абстрактный класс, наследник Drawable. Метод `attack_power(): int` возвращает силу атаки персонажа. Метод `consume_damage(int): bool` наносит урон персонажу, и если персонаж погибает возвращает `true`, иначе `false`.

- NPC - наследник Character. Инстансами данного класса являются так называемые мобы. Имеет поле `given_exp: int`, которое соответсвует количеству полученного опыта за убийство этого моба.

- Hero - наследник Charachter. Инстансом данного класса является персонаж, управляемый пользователем. Имеет дополнительные поля: `exp: int` - опыт, `lvl:int` - уровень, `inventory: Inventory` - инвентарь, `wearing: List<WearableItem> - список надетых предметов`. Метод `wear(WearableItem): bool` пробует надеть предмет на персонажа, в случает успеха возвращает `true` и помещает предмет в инвентарь, иначе `false`. Метод `consume(ConsumableItem): bool` - пробует применить предмет (например зелье), в случает успеха возвращает `true`, иначе `false`. Метод `add_exp(int): void` - добавляет опыт герою.

- Инвентарь - список предметов.

- Item - базовый абстрактный класс для предметов, с которыми может взаимодействовать герой. Имеет поле `constraints: int` - ограничение на минимальный уровень персонажа, чтобы предмет мог быть использован.

- WearableItem - наследник `Item`. Описывает предметы, которые можно надеть. 

- ConsumableItem - наследник `Item`. В свойствах отражено изменяет харакетеристики героя.

- Chest - наследник `Drawable`. Инстансы класса - сундуки, которые расположены на карте. Хранит предметы.

- Wall - наследник `Drawable`. Отрисовывает препятствие.

- Way - наследник `Drawable`. Отрисовывает свободные клетки.

- Cell - ячейка карты. Содержит информцию о содержимом `type: CellType`, в конкретной позиции `position: Point`, конкретнго объекта `object: Drawable`. Метод `draw(): char` делегирует отрисовку объекту.

- World - содержит в себе информацию о содержимом мира. Метод `draw_map(): void` отрисоывает карту с содержимым. Метод `step(Point): void` ход пользователя.

- Game - Основной класс. Запускает игру.

- Randomizer - предоставляет методы для генерации объектов.

## Диаграмма классов
![](https://i.imgur.com/EMXrNLR.png)

# Взаимодействия и состояния

## Диаграмма последовательностей главного цикла
![](https://i.imgur.com/HGHxhm0.png)

## Диаграмма последовательностей создания мира
![](https://i.imgur.com/Cbk5fdk.png)

## Диаграмма последовательностей использования предметов
![](https://i.imgur.com/kMZOtZE.png)